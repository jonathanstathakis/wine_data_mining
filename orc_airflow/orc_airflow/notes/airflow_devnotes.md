# Airflow Development Notes

## Nesting Code

Code specific to a DAG should be defined as nested within the DAG definition when possible to avoid re-execution every time the DAG is parsed.

## Minimise Number of DAGs per File

Spreading the DAGs out over multiple files is more efficient.

## Testing

1. Loader Test: run `python <dag_file>.py` to observe whether the files are interpreted properly.
2. Unit Tests: Use pytest and the DagBag model: see [link](https://airflow.apache.org/docs/apache-airflow/stable/best-practices.html#unit-tests). Typical tests include `assert dagbag.import_erors == {}`, `assert dag is not None`, `assert len(dag.tasks)`, etc.
3. self checks: integrate checks as tasks in sequence, for example validating the data generated by a previous
